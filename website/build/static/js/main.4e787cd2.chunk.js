(this["webpackJsonpantd-demo"]=this["webpackJsonpantd-demo"]||[]).push([[0],{111:function(e){e.exports=JSON.parse('{"v":"5.6.2","fr":30,"ip":0,"op":60,"w":400,"h":400,"nm":"heart-03","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"heart-line","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[199.999,199.29,0],"ix":2},"a":{"a":0,"k":[154.49,145.254,0],"ix":1},"s":{"a":0,"k":[104,104,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.854,2.598],[0,0],[-2.05,58.246],[-21.082,14.427],[-26.354,-30.949],[-39.525,-27.047],[-0.898,-25.529],[78.764,-71.577]],"o":[[-2.863,2.587],[0,0],[-78.766,-71.425],[0.899,-25.529],[39.525,-27.045],[26.355,-30.949],[21.082,14.427],[2.049,58.246],[0,0]],"v":[[5.048,140.167],[-5.03,140.148],[-21.75,124.927],[-149.941,-51.373],[-114.839,-115.708],[0,-99.174],[114.84,-115.707],[149.941,-51.371],[21.75,125.077]],"c":true},"ix":2},"nm":"\u30d1\u30b9 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.96862745098,0.466666666667,0.466666666667,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"\u7dda 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[154.233,150.453],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[50,50],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u30c8\u30e9\u30f3\u30b9\u30d5\u30a9\u30fc\u30e0"}],"nm":"\u30b0\u30eb\u30fc\u30d7 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":20,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"wave","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[200,432,0],"to":[0,-38.5,0],"ti":[0,38.5,0]},{"t":20,"s":[200,201,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[125.5,230.156,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[400,400],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"\u9577\u65b9\u5f62\u30d1\u30b9 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u5857\u308a 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,25.738],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u30c8\u30e9\u30f3\u30b9\u30d5\u30a9\u30fc\u30e0"}],"nm":"\u9577\u65b9\u5f62 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"heart","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[199.999,199.29,0],"ix":2},"a":{"a":0,"k":[154.49,145.254,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,1.33]},"t":15,"s":[104,104,100]},{"i":{"x":[0.372,0.372,0.667],"y":[1,1,1]},"o":{"x":[0.611,0.611,0.333],"y":[0,0,0]},"t":18,"s":[128,128,100]},{"t":21,"s":[104,104,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.854,2.598],[0,0],[-2.05,58.246],[-21.082,14.427],[-26.354,-30.949],[-39.525,-27.047],[-0.898,-25.529],[78.764,-71.577]],"o":[[-2.863,2.587],[0,0],[-78.766,-71.425],[0.899,-25.529],[39.525,-27.045],[26.355,-30.949],[21.082,14.427],[2.049,58.246],[0,0]],"v":[[5.048,140.167],[-5.03,140.148],[-21.75,124.927],[-149.941,-51.373],[-114.839,-115.708],[0,-99.174],[114.84,-115.707],[149.941,-51.371],[21.75,125.077]],"c":true},"ix":2},"nm":"\u30d1\u30b9 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.96862745098,0.466666666667,0.466666666667,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"\u7dda 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.969837605953,0.465367555618,0.465367555618,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u5857\u308a 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[154.233,150.453],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[50,50],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u30c8\u30e9\u30f3\u30b9\u30d5\u30a9\u30fc\u30e0"}],"nm":"\u30b0\u30eb\u30fc\u30d7 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"mini-heart 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[100]},{"t":36,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":21,"s":[199.999,159.29,0],"to":[11.667,-5.167,0],"ti":[-9.833,11,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":26,"s":[269.999,128.29,0],"to":[9.833,-11,0],"ti":[1.833,12.333,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":31,"s":[258.999,93.29,0],"to":[-1.418,-9.537,0],"ti":[2.572,8.581,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":35,"s":[294.153,60.755,0],"to":[-0.754,-2.516,0],"ti":[3.552,1.02,0]},{"t":36,"s":[258.999,54.29,0]}],"ix":2},"a":{"a":0,"k":[154.49,145.254,0],"ix":1},"s":{"a":0,"k":[30.558,30.558,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.854,2.598],[0,0],[-2.05,58.246],[-21.082,14.427],[-26.354,-30.949],[-39.525,-27.047],[-0.898,-25.529],[78.764,-71.577]],"o":[[-2.863,2.587],[0,0],[-78.766,-71.425],[0.899,-25.529],[39.525,-27.045],[26.355,-30.949],[21.082,14.427],[2.049,58.246],[0,0]],"v":[[5.048,140.167],[-5.03,140.148],[-21.75,124.927],[-149.941,-51.373],[-114.839,-115.708],[0,-99.174],[114.84,-115.707],[149.941,-51.371],[21.75,125.077]],"c":true},"ix":2},"nm":"\u30d1\u30b9 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.969837605953,0.465367555618,0.465367555618,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u5857\u308a 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[154.233,150.453],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[50,50],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u30c8\u30e9\u30f3\u30b9\u30d5\u30a9\u30fc\u30e0"}],"nm":"\u30b0\u30eb\u30fc\u30d7 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":21,"op":60,"st":3,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"mini-heart 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":29,"s":[100]},{"t":34,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":19,"s":[199.999,159.29,0],"to":[1.5,-9,0],"ti":[-5.667,15.333,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":24,"s":[208.999,105.29,0],"to":[5.667,-15.333,0],"ti":[2.833,11,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":29,"s":[233.999,67.29,0],"to":[-2.833,-11,0],"ti":[15.667,4.5,0]},{"t":34,"s":[191.999,39.29,0]}],"ix":2},"a":{"a":0,"k":[154.49,145.254,0],"ix":1},"s":{"a":0,"k":[30.558,30.558,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.854,2.598],[0,0],[-2.05,58.246],[-21.082,14.427],[-26.354,-30.949],[-39.525,-27.047],[-0.898,-25.529],[78.764,-71.577]],"o":[[-2.863,2.587],[0,0],[-78.766,-71.425],[0.899,-25.529],[39.525,-27.045],[26.355,-30.949],[21.082,14.427],[2.049,58.246],[0,0]],"v":[[5.048,140.167],[-5.03,140.148],[-21.75,124.927],[-149.941,-51.373],[-114.839,-115.708],[0,-99.174],[114.84,-115.707],[149.941,-51.371],[21.75,125.077]],"c":true},"ix":2},"nm":"\u30d1\u30b9 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.969837605953,0.465367555618,0.465367555618,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u5857\u308a 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[154.233,150.453],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[50,50],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u30c8\u30e9\u30f3\u30b9\u30d5\u30a9\u30fc\u30e0"}],"nm":"\u30b0\u30eb\u30fc\u30d7 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":19,"op":60,"st":1,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"mini-heart","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":27,"s":[100]},{"t":32,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":17,"s":[199.999,159.29,0],"to":[-13.5,-9.333,0],"ti":[5.167,16,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":22,"s":[118.999,103.29,0],"to":[-5.167,-16,0],"ti":[-3.5,10.5,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":27,"s":[168.999,63.29,0],"to":[3.5,-10.5,0],"ti":[4.833,3.833,0]},{"t":32,"s":[139.999,40.29,0]}],"ix":2},"a":{"a":0,"k":[154.49,145.254,0],"ix":1},"s":{"a":0,"k":[30.558,30.558,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.854,2.598],[0,0],[-2.05,58.246],[-21.082,14.427],[-26.354,-30.949],[-39.525,-27.047],[-0.898,-25.529],[78.764,-71.577]],"o":[[-2.863,2.587],[0,0],[-78.766,-71.425],[0.899,-25.529],[39.525,-27.045],[26.355,-30.949],[21.082,14.427],[2.049,58.246],[0,0]],"v":[[5.048,140.167],[-5.03,140.148],[-21.75,124.927],[-149.941,-51.373],[-114.839,-115.708],[0,-99.174],[114.84,-115.707],[149.941,-51.371],[21.75,125.077]],"c":true},"ix":2},"nm":"\u30d1\u30b9 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.969837605953,0.465367555618,0.465367555618,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u5857\u308a 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[154.233,150.453],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[50,50],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u30c8\u30e9\u30f3\u30b9\u30d5\u30a9\u30fc\u30e0"}],"nm":"\u30b0\u30eb\u30fc\u30d7 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":17,"op":60,"st":-1,"bm":0}],"markers":[]}')},220:function(e,t,i){e.exports=i(451)},225:function(e,t,i){},296:function(e){e.exports=JSON.parse("{}")},450:function(e,t,i){},451:function(e,t,i){"use strict";i.r(t);var s={};i.r(s),i.d(s,"SetToken",(function(){return Y})),i.d(s,"ApiService",(function(){return X})),i.d(s,"setBaseUrl",(function(){return Z})),i.d(s,"getBaseUrl",(function(){return $})),i.d(s,"encodeQueryData",(function(){return ee}));var a=i(0),n=i.n(a),o=i(7),r=i.n(o),l=(i(225),i(198),i(125)),c=(i(72),i(36)),m=(i(158),i(124)),d=(i(71),i(20)),h=(i(73),i(18)),p=(i(159),i(85)),g=i(110),u=i.n(g),f=i(89),y=i.n(f),x=i(457),w=i(452),k=i(454),E=i(453),b=i(462),C=i(463),S=i(455),v=(i(296),i(94)),I=i.n(v),L=(i(297),i(218)),B=i(217),T=i(21),A=i.n(T);const _={data:new Map,get(e){return e&&this.data.get(e)||null},set(e,t){if(e)return this.data.set(e,t)}};class F extends n.a.Component{constructor(e){super(...arguments),this.connectScrollTarget=this.connectScrollTarget.bind(this),this._target=window}connectScrollTarget(e){this._target=e}restoreScrollPosition(e){e=e||this.props.scrollStore.get(this.props.scrollKey),this._target&&e&&A()(()=>{var t,i,s;t=this._target,i=e.x,s=e.y,t instanceof window.Window?t.scrollTo(i,s):(t.scrollLeft=i,t.scrollTop=s)})}saveScrollPosition(e){if(this._target){const t=function(e){if(e instanceof window.Window)return{x:e.scrollX,y:e.scrollY};return{x:e.scrollLeft,y:e.scrollTop}}(this._target);e=e||this.props.scrollKey,this.props.scrollStore.set(e,t)}}componentDidMount(){this.restoreScrollPosition()}UNSAFE_componentWillReceiveProps(e){this.props.scrollKey!==e.scrollKey&&this.saveScrollPosition()}componentDidUpdate(e){this.props.scrollKey!==e.scrollKey&&this.restoreScrollPosition()}componentWillUnmount(){this.saveScrollPosition()}render(){const e=this.props,t=e.children,i=void 0===t?null:t,s=Object(B.a)(e,["children"]);return i&&i(Object(L.a)({},s,{connectScrollTarget:this.connectScrollTarget}))}}F.defaultProps={scrollStore:_};i(102);var D=i(23),N=(i(70),i(37)),R=(i(80),i(34)),V=(i(182),i(127)),W=(i(180),i(57)),M=(i(181),i(35)),P=i(64),j=i.n(P),q=(i(183),i(111));i(62);R.a.Meta;const z=["#f69600","#f66200","#edf600","#00f6a8","#00b9f6","#1700f6","#8b00f6","#f600e2","#f60057"];class O extends n.a.Component{constructor(e){super(e),this.onLike=()=>{this.props.onLikeComment&&this.props.onLikeComment(this.props.comment)},this.playHeart=()=>{this.setState({isPlayingAnimation:!0})},this.stopHeart=()=>{this.setState({isPlayingAnimation:!1})},this.state={randomColor:z[Math.floor(Math.random()*z.length)],isPlayingAnimation:!1},this.heartAnimation=null}componentDidMount(){1==this.props.comment.liked?this.playHeart():this.stopHeart()}componentWillReceiveProps(e){e.comment&&1==e.comment.liked?this.playHeart():this.stopHeart()}render(){const e=this.props.comment,t={loop:!1,autoplay:!1,animationData:q,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return n.a.createElement(V.a.Item,{dot:n.a.createElement("div",{style:{marginTop:5,width:10,height:10,borderRadius:5,backgroundColor:e&&e.user&&"female"==e.user.gender?"#ff8b9a":"#8baeff"}})},n.a.createElement("div",{style:{marginBottom:0}},n.a.createElement("div",{className:"custom-card",style:{width:"100%",padding:5,marginBottom:0,backgroundColor:"white",borderRadius:2}},n.a.createElement(W.a,{gutter:24},n.a.createElement(M.a,{span:24,justify:"center"},n.a.createElement("div",{style:{display:"flex",flex:1,flexDirection:"row"}},n.a.createElement("div",{style:{display:"flex",flex:1,flexDirection:"column"}},e&&e.user_alias&&n.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.a.createElement("div",{style:{display:"flex",flex:1,marginBottom:0,backgroundColor:"white"}},n.a.createElement("span",{style:{display:"block",marginTop:0,fontSize:13,textAlign:"left",color:e&&e.user&&"female"==e.user.gender?"#ff8b9a":"#8baeff",fontWeight:500}},"@",e.user_alias)),n.a.createElement("div",{onClick:this.onLike,style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:0,marginBottom:0}},n.a.createElement(y.a,{ref:e=>{this.heartAnimation=e},options:t,height:20,width:35,isStopped:!this.state.isPlayingAnimation}),n.a.createElement("span",{style:{color:"#f87676",marginLeft:-5,fontWeight:800,fontSize:"0.75em"}},e.likes_qty))),n.a.createElement("div",{style:{width:"auto",marginBottom:0,backgroundColor:"white"}},n.a.createElement("span",{style:{display:"block",marginTop:2,marginBottom:5,fontSize:10,textAlign:"left"}},j()(e.created_at).fromNow())),n.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.html},style:{color:"rgba(0,0,0,.75)",fontSize:13,fontFamily:"Open Sans",marginLeft:0,marginTop:0,fontWeight:400}}))))))))}}var G=i(458),K=i(461),H=i(202),U=i.n(H),J="https://api.friwords.com/api/v1/",Q=J;function Y(e){localStorage.setItem("JWT_TOKEN",e),e}function X(e=15e3,t){t||(t={Accept:"application/json","Content-Type":"application/json"},localStorage.getItem("JWT_TOKEN")&&(t.Authorization="Bearer "+localStorage.getItem("JWT_TOKEN")));var i=u.a.create({baseURL:$(),timeout:e,headers:t});return i.interceptors.response.use(e=>e,e=>e),U()(i,{retries:5,retryDelay:e=>1e3*e}),i}function Z(e){Q=null==e?J:e}function $(){return Q}function ee(e){let t=[];for(let i in e)t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}var te={user:null,isAuthenticated:()=>null!=te.user,register:function(e,t,i){X().post("auth/register",e).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},signInWithAlias:function(e,t,i){X().post("auth/sign_in",e).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},getMe:function(e,t){X().get("profile/me").then(t=>{e&&e(t.data)}).catch(e=>{t&&t(e)})},updateMe:function(e,t,i){X().post("profile/me",e).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},generateRandomAlias:function(e,t){X().get("auth/generate_alias").then(t=>{e&&e(t.data)}).catch(e=>{t&&t(e)})}},ie=te,se={getFriwords:function(e,t){X().get("friwords").then(t=>{e&&e(t.data)}).catch(e=>{t&&t(e)})},getFriwordsByFilter:function(e,t,i){X().post("friwords/filter",e).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},getFriwordById:function(e,t,i){let s="friwords/".concat(e);X().get(s).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},getPossibleMentionsByFriwordId:function(e,t,i){let s="friwords/".concat(e,"/possible_mentions");X().get(s).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},likeById:function(e,t,i){let s="friwords/".concat(e,"/like");X().post(s).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},likeCommentById:function(e,t,i){let s="friwords/comments/".concat(e,"/like");X().post(s).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},dislikeById:function(e,t,i){let s="friwords/".concat(e,"/dislike");X().post(s).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},postFriword:function(e,t,i){X().post("friwords",e).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},postComment:function(e,t,i){let s="friwords/".concat(e.friword_id,"/comments");X().post(s,e).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})},hasUpdatesAvailable:function(e,t,i){let s="friwords/updates_available/".concat(e);X().get(s).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})}},ae={getNotifications:function(e,t){X().get("notifications/me").then(t=>{e&&e(t.data)}).catch(e=>{t&&t(e)})},updateNotification:function(e,t,i){let s="notifications/".concat(e.id,"/update");X().post(s,e).then(e=>{t&&t(e.data)}).catch(e=>{i&&i(e)})}},ne=i(155);i(337);ne.initializeApp({apiKey:"AIzaSyCSAjJKGPVlX6zNOHWT2Otg2nXljs5f_lA",authDomain:"friwords-a3536.firebaseapp.com",databaseURL:"https://friwords-a3536.firebaseio.com",projectId:"friwords-a3536",storageBucket:"friwords-a3536.appspot.com",messagingSenderId:"882500991771",appId:"1:882500991771:web:f125ad3a2aa021a0eaf1be",measurementId:"G-P8SQZY3BKH"});R.a.Meta,c.a.Option;class oe extends n.a.Component{constructor(e){super(e),this.getRandomAlias=()=>{this.setState({isLoading:!0}),ie.generateRandomAlias(e=>{if(this.setState({isLoading:!1}),e.success){let t=this.state.auth;t.alias=e.alias,this.setState({auth:t}),this.form.setFieldsValue({alias:e.alias})}},e=>{this.setState({isLoading:!1})})},this.onFinish=()=>{this.state.auth.gender?(this.setState({isLoading:!0}),ie.register({alias:this.state.auth.alias,password:this.state.auth.password,gender:this.state.auth.gender},e=>{e.success?(s.SetToken(e.token),this.props.onStart&&this.props.onStart()):h.a.open({className:"error",message:n.a.createElement(G.a,null),description:e.message}),this.setState({isLoading:!1})},e=>{this.setState({isLoading:!1})})):h.a.open({className:"error",message:n.a.createElement(G.a,null),description:"Escoge tu g\xe9nero"})},this.state={isVisible:!1,isLoading:!1,auth:{}},this.form=null}componentDidMount(){this.getRandomAlias()}render(){const e=this.state.auth;return this.props.isVisible?n.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",minHeight:"100%",zIndex:99999,backgroundColor:"#25b864",paddingBottom:20}},n.a.createElement("h1",{style:{textAlign:"center",color:"white",marginTop:10}},"Ingresa a Friwords"),n.a.createElement("div",{style:{width:"100%",height:10,backgroundColor:"rgba(255,255,255,.15)",marginBottom:10,marginTop:10}}),n.a.createElement("p",{style:{maxWidth:"80%",margin:"0 auto",color:"rgba(255,255,255,.8)",textAlign:"center"}},"Crea tu alias y tu contrase\xf1a. Record\xe1 que ",n.a.createElement("b",null,"todo ser\xe1 an\xf3nimo")),n.a.createElement(D.a,{ref:e=>{this.form=e},name:"login_in",className:"login-in",initialValues:{alias:e.alias},onFinish:this.onFinish},n.a.createElement(D.a.Item,{name:"alias",rules:[{required:!0,message:"Ingresa tu alias"}],style:{width:"90%",margin:"5px auto"}},n.a.createElement(N.a,{onChange:t=>{e.alias=t.target.value,this.setState({auth:e})},style:{width:"100%",margin:"0 auto"},prefix:n.a.createElement("span",null,"@"),placeholder:"Tu alias"})),n.a.createElement("a",{onClick:this.getRandomAlias,style:{width:"90%",color:"white",textDecoration:"underline",marginLeft:"5%",margin:"0 auto",padding:0,display:"block",marginBottom:5}},"Generar alias al azar"),n.a.createElement(D.a.Item,{name:"password",rules:[{required:!0,message:"Ingresa una contrase\xf1a"}],style:{width:"90%",margin:"5px auto"}},n.a.createElement(N.a,{onChange:t=>{e.password=t.target.value,this.setState({auth:e})},type:"password",style:{width:"100%",margin:"0 auto"},prefix:n.a.createElement(K.a,{className:"site-form-item-icon"}),placeholder:"Contrase\xf1a"})),n.a.createElement("span",{style:{width:"100%",display:"block",textAlign:"center",fontWeight:600,color:"white"}},"Selecciona tu g\xe9nero"),n.a.createElement("div",{style:{width:"100%",height:40,display:"flex",flexDirection:"row",marginBottom:20}},n.a.createElement("div",{onClick:()=>{e.gender="female",this.setState({auth:e})},style:{display:"flex",flex:1,flexDirection:"row",backgroundColor:"transparent",justifyContent:"center",alignItems:"center"}},n.a.createElement("img",{style:{maxWidth:35,maxHeight:35,opacity:"female"==e.gender?1:.6},src:"https://image.flaticon.com/icons/svg/590/590083.svg"})),n.a.createElement("div",{onClick:()=>{e.gender="male",this.setState({auth:e})},style:{display:"flex",flex:1,flexDirection:"row",backgroundColor:"transparent",justifyContent:"center",alignItems:"center"}},n.a.createElement("img",{style:{maxWidth:35,maxHeight:35,opacity:"male"==e.gender?1:.6},src:"https://image.flaticon.com/icons/svg/921/921071.svg"}))),n.a.createElement(D.a.Item,{style:{display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement(d.a,{type:"primary",htmlType:"submit",loading:this.state.isLoading,style:{display:"flex",width:"75%",margin:"0 auto",backgroundColor:"white",height:50,color:"white",fontWeight:600,justifyContent:"center",alignItems:"center",color:"#00a2ff",marginTop:15}},"Registrarme"))),n.a.createElement("div",{style:{width:"100%",height:5,backgroundColor:"rgba(255,255,255,.15)",marginBottom:10,marginTop:10}}),n.a.createElement(d.a,{onClick:()=>{this.props.onRequestLogin()},type:"primary",htmlType:"submit",loading:this.state.isLoading,style:{display:"flex",width:"100%",margin:"0 auto",height:40,color:"white",fontWeight:600,justifyContent:"center",alignItems:"center",backgroundColor:"#00a2ff"}},"\xa1Ya tengo un alias!")):null}}i(148);var re=i(83),le=i(460);R.a.Meta,c.a.Option;class ce extends n.a.Component{constructor(e){super(e),this.checkProps=e=>{if(e.user&&e.user.alias){let t=this.state.friword;t.user_alias=e.user.alias,this.setState({friword:t})}this.setState({isVisible:e.isVisible})},this.onFinish=()=>{this.setState({isLoading:!0}),ie.signInWithAlias(this.state.auth,e=>{this.setState({isLoading:!1}),e.success?(s.SetToken(e.token),this.props.onLoggedIn(e.user)):h.a.open({className:"error",message:n.a.createElement(G.a,null),description:e.message})},e=>(this.setState({isLoading:!1}),h.a.open({className:"error",message:n.a.createElement(G.a,null),description:"Ese alias no es v\xe1lido"}),!1))},this.isValid=()=>!0,this.state={isVisible:!1,isLoading:!1,auth:{}}}componentDidMount(){this.checkProps(this.props)}componentWillReceiveProps(e){this.checkProps(e)}render(){const e=this.state.auth;return n.a.createElement(re.a,{title:"Ingres\xe1 con tu alias",visible:this.state.isVisible,closable:!0,onCancel:()=>{this.props.onRequestClose()},footer:null},n.a.createElement(D.a,{name:"login_in",className:"login-in",onFinish:this.onFinish},n.a.createElement("div",{style:{marginBottom:10,backgroundColor:"rgba(0,0,0,.03)",padding:10}},n.a.createElement("span",null,"\xbfTienes un alias distinto? Ingresa tu alias y la contrase\xf1a que se te pidi\xf3 al crearlo.")),n.a.createElement(D.a.Item,{name:"alias",rules:[{required:!0,message:"Ingresa tu alias"}]},n.a.createElement(N.a,{onChange:t=>{e.alias=t.target.value,this.setState({auth:e})},prefix:n.a.createElement(le.a,{className:"site-form-item-icon"}),placeholder:"Alias"})),n.a.createElement(D.a.Item,{name:"text",rules:[{required:!0,message:"Ingresa la contrase\xf1a"}]},n.a.createElement(N.a,{onChange:t=>{e.password=t.target.value,this.setState({auth:e})},type:"password",prefix:n.a.createElement(K.a,{className:"site-form-item-icon"}),placeholder:"Contrase\xf1a"})),n.a.createElement(D.a.Item,null,n.a.createElement(d.a,{type:"primary",htmlType:"submit",loading:this.state.isLoading},"Ingresar"))))}}var me=i(459);R.a.Meta,c.a.Option;const de=N.a.TextArea;class he extends n.a.Component{constructor(e){super(e),this.checkProps=e=>{if(e.user&&e.user.alias){let t=this.state.friword;t.user_alias=e.user.alias,this.setState({friword:t})}this.setState({isVisible:e.isVisible})},this.onFinish=()=>{if(this.isValid()){this.setState({isLoading:!0});const e=this.state.friword;se.postFriword(e,e=>{this.setState({isLoading:!1}),e.success?(this.setState({isVisible:!1,friword:{}}),this.form&&this.form.resetFields(),this.props.onCreated(e.friword)):h.a.open({className:"error",message:"Oops",description:e.message})},e=>{this.setState({isLoading:!1}),h.a.open({className:"error",message:"Oops",description:"Tu friword no pudo ser creado ahora. Intenta en unos momentos."})})}},this.isValid=()=>{const e=this.state.friword;return!(!e||!e.text||e.text.length<10)||(h.a.open({className:"error",message:"Oops",description:"Escribe un texto de al menos 10 caracteres"}),!1)},this.state={isVisible:!1,friword:{}},this.form=null}componentDidMount(){this.checkProps(this.props)}componentWillReceiveProps(e){this.checkProps(e)}render(){const e=this.state.friword;return n.a.createElement(re.a,{title:"Publica tu friword",visible:this.state.isVisible,closable:!0,onCancel:()=>{this.props.onRequestClose()},footer:null},n.a.createElement(D.a,{ref:e=>{this.form=e},name:"post_friword",className:"post-friword",initialValues:{remember:!0},onFinish:this.onFinish},n.a.createElement("div",{style:{marginBottom:10,backgroundColor:"rgba(0,0,0,.03)",padding:10}},n.a.createElement("span",null,"\xa1Recuerda! Esto es totalmente an\xf3nimo, y tu friword aparecer\xe1 creado por ",n.a.createElement("b",null,null!=e.user_alias?e.user_alias:""))),n.a.createElement(D.a.Item,{name:"text",rules:[{required:!0,message:"Ingresa el texto"}]},n.a.createElement(de,{placeholder:"Tu texto",autoSize:{minRows:2,maxRows:8},maxLength:750,onChange:t=>{e.text=t.target.value,this.setState({friword:e})},prefix:n.a.createElement(me.a,{className:"site-form-item-icon"})})),n.a.createElement("span",null,750-(e&&e.text&&e.text.length?e.text.length:0)," caracteres restantes"),n.a.createElement("div",{style:{width:"100%",height:5,backgroundColor:"rgba(0,0,0,0.05)",marginTop:20,marginBottom:20}}),n.a.createElement(D.a.Item,null,n.a.createElement(d.a,{type:"primary",htmlType:"submit",loading:this.state.isLoading},"Publicar"))))}}i(434);var pe=i(211),ge=(i(436),i(129)),ue=i(216);function fe(e){const t=n.a.useState(!0),i=Object(ue.a)(t,2),s=i[0],a=i[1],o=n.a.useRef();return n.a.useEffect(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>a(e.isIntersecting))});return e.observe(o.current),()=>e.unobserve(o.current)},[]),n.a.createElement("div",{className:"fade-in-section ".concat(s?"is-visible":""),ref:o},e.children)}var ye=i(456);i(438);const xe=R.a.Meta,we=(N.a.TextArea,ge.a.Option);ge.a.getMentions;class ke extends n.a.Component{constructor(e){super(e),this.onLike=()=>{if(null==this.props.user)return void h.a.open({className:"error",message:"Oops",description:"No se pudo dar like. Debes ingresar con tu alias para hacer esto"});if(this.state.hasLiked||this.state.hasDisliked)return;const e=this.state.friword;e.liked=!0,this.setState({friword:e}),this.props.onLike()},this.state={isLoadingComments:!1,isSendingComment:!1,canLeaveComment:!0,comment:"",showComments:!1,mentions:null,hasDisliked:!1,hasLiked:!1,friword:null}}componentDidMount(){null!=this.props.user&&se.getPossibleMentionsByFriwordId(this.props.friword.id,e=>{e.success&&this.setState({mentions:e.mentions})},e=>{}),null!=this.props.friword&&this.setState({friword:this.props.friword})}componentWillReceiveProps(e){null!=e.friword&&this.setState({friword:e.friword}),null==this.props.user||this.state.mentions||se.getPossibleMentionsByFriwordId(this.props.friword.id,e=>{e.success?this.setState({mentions:e.mentions}):this.setState({mentions:[]})},e=>{this.setState({mentions:[]})})}render(){const e=this.state.friword;if(!e)return null;const t=this.state.mentions;let i=n.a.createElement("div",{onClick:()=>{null!=this.props.user?!this.state.comment||this.state.comment.length<2?h.a.open({className:"error",message:"El comentario..",description:"A tu comentario le falta un poco de magia. Compl\xe9talo"}):(this.setState({isSendingComment:!0}),se.postComment({text:this.state.comment,user_alias:null!=this.props.user&&null!=this.props.user.alias?this.props.user.alias:"",friword_id:e.id,likes:0,dislikes:0},e=>{this.props.onRequestComments(),this.setState({canLeaveComment:!1,isSendingComment:!1,showComments:!0}),h.a.open({className:"success",message:n.a.createElement(x.a,{twoToneColor:"#eb2f96"}),description:"Tu comentario ya est\xe1 visible"}),this.props.onPostedComment&&this.props.onPostedComment()},e=>{console.log(e)})):h.a.open({className:"error",message:"Ingresa primero",description:"Ingresa o crea tu alias para dejar comentarios"})},style:{backgroundColor:"transparent",padding:0,marginTop:0,display:"flex",flex:1}},n.a.createElement("a",{style:{fontWeight:800,padding:15}},"Enviar"));this.state.isSendingComment&&(i=n.a.createElement("div",{style:{backgroundColor:"white",padding:0,marginTop:5}},n.a.createElement(ye.a,{spin:!0,style:{color:"rgba(0,0,0,.75)"}})));e&&e.user&&e.user.gender,e&&e.user&&e.user.gender;const s={loop:!1,autoplay:!1,animationData:q,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return n.a.createElement(fe,{key:e.id},n.a.createElement("div",{className:"data-node-".concat(e.id)},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("div",{style:{width:"100%",height:15,backgroundColor:"rgba(0,0,0,.1)"}}),n.a.createElement(R.a,{bordered:!1,bodyStyle:{padding:10,paddingTop:20,opacity:this.props.loading?.1:1}},n.a.createElement(xe,{avatar:n.a.createElement(pe.a,{src:e&&e.user&&"female"==e.user.gender?"https://image.flaticon.com/icons/svg/2284/2284897.svg":"https://image.flaticon.com/icons/svg/2284/2284900.svg",size:"large",style:{borderRadius:0,width:30,height:30}}),title:n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},n.a.createElement("span",null,"".concat(e.text.substring(0,30),"..."))),description:n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},n.a.createElement("span",{style:{fontSize:"0.9em"}},"".concat(e.text)))}),n.a.createElement("span",{style:{display:"block",marginTop:10,fontSize:10,textAlign:"right"}},j()(e.created_at).fromNow()),e&&e.user_alias&&n.a.createElement("span",{style:{display:"block",marginTop:0,fontSize:10,textAlign:"right"}},"por ",n.a.createElement("span",{style:{color:"#25b864",fontWeight:600}},"@",e.user_alias)),n.a.createElement("div",{onClick:this.onLike,style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:5,marginBottom:5}},n.a.createElement(y.a,{options:s,autoplay:!1,height:50,width:32,isStopped:!e.liked}),n.a.createElement("span",{style:{color:"#f87676",marginLeft:5,fontWeight:800}},this.props.likes," like",this.props.likes>1?"s":"")),this.state.isLoadingComments&&(!e.comments||!e.comments.length)&&n.a.createElement(S.a,{style:{fontSize:24,color:"#ff306f",marginTop:10},spin:!0}),!this.state.isLoadingComments&&!this.state.showComments&&e.comments_qty>0&&n.a.createElement("a",{onClick:()=>{this.setState({isLoadingComments:!0,showComments:!0}),this.props.onRequestComments()},style:{display:"block",marginLeft:0,marginTop:0,marginBottom:10,marginLeft:7,fontWeight:400,textDecoration:"underline"}},"Ver ",e.comments_qty," comentario",e.comments_qty>1?"s":""),null!=e.comments&&e.comments.length>0&&this.state.showComments&&n.a.createElement("a",{onClick:()=>{this.setState({isLoadingComments:!1,showComments:!1})},style:{display:"block",marginLeft:0,marginBottom:15,fontWeight:500}},"Ocultar comentarios"),n.a.createElement("div",{style:{marginLeft:5}},n.a.createElement(V.a,null,this.state.showComments&&null!=e.comments&&e.comments.length>0&&e.comments.map((e,t)=>n.a.createElement(O,{key:"comment_".concat(e.id),comment:e,onLikeComment:e=>{null!=this.props.user?se.likeCommentById(e.id,e=>{this.props.refreshFriword()},e=>{this.props.refreshFriword()}):h.a.open({className:"error",message:"Oops",description:"No se pudo dar like. Debes ingresar con tu alias para hacer esto"})}})))),this.state.canLeaveComment&&n.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:0,marginBottom:0}},n.a.createElement("div",{style:{display:"flex",flex:1}},n.a.createElement(D.a,{name:"post_comment",style:{width:"100%",paddingLeft:0,paddingRight:0,position:"relative"}},n.a.createElement(D.a.Item,{name:"comment",rules:[{required:!0,message:"Ingresa un comentario"}],style:{marginBottom:0,paddingBottom:0}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.a.createElement(ge.a,{onChange:e=>{this.setState({comment:e})},className:"input-comment",placeholder:"Deja tu comentario",autoSize:{minRows:1,maxRows:3},maxLength:750},t&&t.map(e=>n.a.createElement(we,{value:e.alias},e.alias))),i))))),null==this.props.user&&n.a.createElement("div",{style:{width:"100%",backgroundColor:"#25b864",padding:5,marginTop:10,borderRadius:2}},n.a.createElement("span",{style:{display:"block",fontSize:12,fontWeight:600,textAlign:"left",color:"white"}},"Cre\xe1 tu alias an\xf3nimo para dejar un comentario"))))))}}R.a.Meta,c.a.Option,N.a.TextArea;class Ee extends n.a.Component{constructor(e){super(e),this.checkProps=e=>{this.setState({isVisible:e.isVisible}),1==e.isVisible&&0==this.state.isVisible&&this.getNotifications()},this.getNotifications=()=>{this.setState({isLoading:!0}),ae.getNotifications(e=>{if(e.success)for(var t in this.setState({notifications:e.notifications,isLoading:!1}),e.notifications)ae.updateNotification({id:e.notifications[t].id,seen:!0},e=>{let i=this.state;i[t].seen=!0,this.setState({notifications:i})})},e=>{this.setState({notifications:[],isLoading:!1})})},this.onFinish=()=>{if(this.isValid()){this.setState({isLoading:!0});const e=this.state.friword;se.postFriword(e,e=>{this.setState({isLoading:!1}),e.success?(this.setState({isVisible:!1,friword:{}}),this.form&&this.form.resetFields(),this.props.onCreated(e.friword)):h.a.open({className:"error",message:"Oops",description:e.message})},e=>{this.setState({isLoading:!1}),h.a.open({className:"error",message:"Oops",description:"Tu friword no pudo ser creado ahora. Intenta en unos momentos."})})}},this.isValid=()=>{const e=this.state.friword;return!(!e||!e.text||e.text.length<10)||(h.a.open({className:"error",message:"Oops",description:"Escribe un texto de al menos 10 caracteres"}),!1)},this.state={isVisible:!1,notifications:[]},this.form=null}componentDidMount(){this.checkProps(this.props)}componentWillReceiveProps(e){this.checkProps(e)}render(){const e=this.state,t=e.notifications,i=(e.friword,e.isLoading);return n.a.createElement(re.a,{title:"Tus notificaciones",visible:this.state.isVisible,closable:!0,onCancel:()=>{this.props.onRequestClose()},footer:null},!i&&t&&t.length>0&&t.map(e=>n.a.createElement("div",{onClick:()=>{this.props.onClickNotification&&this.props.onClickNotification(e)},style:{width:"100%",marginBottom:10,position:"relative",backgroundColor:e.seen?"white":"rgba(255, 160, 0, .15)",padding:10,borderRadius:5}},n.a.createElement("div",{style:{width:"100%",borderBottomWidth:5,borderBottomColor:"rgba(0,0,0,.05)"},dangerouslySetInnerHTML:{__html:e.html}}),n.a.createElement("span",{style:{display:"block",width:"100%",fontSize:11,marginTop:5,textAlign:"right"}},j()(e.created_at).fromNow()),n.a.createElement("div",{style:{width:"100%",height:5,backgroundColor:"rgba(0,0,0,0.1)",marginTop:10}}))),!i&&(!t||0==t.length)&&n.a.createElement("span",null,"\xa1A\xfan no tienes notificaciones para revisar!"),i&&n.a.createElement(S.a,{style:{fontSize:24,color:"#ff306f",marginTop:10},spin:!0}))}}c.a.Option;const be=l.a.Title,Ce=p.a.TabPane;class Se extends n.a.Component{constructor(e){super(e),this.getMe=()=>{ie.getMe(e=>{if(e.success&&null!=e.user&&(this.setState({user:e.user}),ie.user=e.user,e.user&&!e.user.country_code&&!e.user.ip)){const e="45c816eed2d04a8b96e59ff177c609af";u.a.get("https://api.ipgeolocation.io/ipgeo?apiKey=".concat(e,"&fields=geo&output=json")).then(e=>{if(e&&e.data){const t=e.data;ie.updateMe({country_name:t&&t.country_name,country_code:t&&t.country_code2,ip:t&&t.ip},e=>{e.success&&this.setState({user:e.user})})}})}})},this.getFriwords=()=>{this.setState({isLoading:!0,hasUpdates:!1}),se.getFriwordsByFilter(this.state.filters,e=>{let t=[],i=[];for(var s in e.friwords){const a=e.friwords[s];I.a.some(this.state.friwords,e=>e.id==a.id&&e.comments&&e.comments.length>0)?t.push(new Promise((e,t)=>{se.getFriwordById(a.id,t=>{t.success,i.push(t.friword),e()},t=>{i.push(a.friword),e()})})):i.push(a)}Promise.all(t).then(e=>{let t=I.a.orderBy(i,["created_at"],["desc"]);this.state.friwords&&this.state.friwords.length>0&&this.state.filters.page>0&&(t=this.state.friwords.concat(t)),this.setState({isLoading:!1,friwords:t})})},e=>{alert("Estamos teniendo algunos problemas en este momento. Refresca la p\xe1gina en unos segundos."),this.setState({isLoading:!1})})},this.getFriwordById=(e,t=!1)=>{se.getFriwordById(e,i=>{if(i.success)if(t){I.a.findIndex(this.state.friwords,e=>e.id==i.friword.id);let t=[i.friword];this.setState({friwords:t,currentFriwordId:e,isLoading:!1},this.getMe)}else{let e=I.a.findIndex(this.state.friwords,e=>e.id==i.friword.id),t=this.state.friwords;t[e]=i.friword,this.setState({friwords:t,isLoading:!1})}},e=>{})},this.refresh=()=>{this.getFriwords(),this.getMe()},this.isAuthenticated=()=>ie.isAuthenticated(),this.state={friwords:[],filters:{listing_mode:1,page:0},tabActiveKey:"1",isViewingNotifications:!1,isWelcome:!1,isCreating:!1,isLoggingIn:!1,isLoading:!0,hasUpdates:!1,user:null,currentFriwordId:null}}componentDidMount(){this.getFriwords(),this.getMe(),setInterval(this.getMe,1e4)}render(){const e=this.state,t=e.friwords,i=e.filters;if(this.state.isWelcome)return this.renderWelcome();const s=null!=this.state.user&&this.state.user.unread_notifications>0;return n.a.createElement("div",{className:"friwords-container"},n.a.createElement("div",{style:{width:"100%",height:45,display:"flex",flexDirection:"row",position:"fixed",top:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",padding:0,backgroundColor:"white",zIndex:9999}},n.a.createElement("div",{style:{height:45,display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"white",borderTopLeftRadius:0,borderBottomLeftRadius:10,cursor:"pointer",zIndex:9999,borderLeft:"2px solid rgba(0,0,0,.05)",borderBottom:"2px solid rgba(0,0,0,.05)"}},n.a.createElement("span",{style:{fontWeight:500,fontSize:"0.6em"}},this.state.user&&this.state.user.alias?"@".concat(this.state.user.alias):"-"),n.a.createElement("a",{style:{textDecorationLine:"underline",fontSize:"0.6em"},href:"#",onClick:()=>{this.isAuthenticated()?this.setState({isLoggingIn:!0}):this.setState({isWelcome:!0})}},this.isAuthenticated()?"Cambiar":"Registrar alias")),n.a.createElement("div",{className:"counter-online-users",onClick:()=>{this.isAuthenticated()?this.setState({isViewingNotifications:!0}):this.setState({isWelcome:!0})},style:{height:45,display:"flex",flex:s?1:0,justifyContent:"center",alignItems:"center",backgroundColor:s?"#fccf84":"white",borderTopLeftRadius:0,cursor:"pointer",zIndex:9999,borderLeft:"2px solid rgba(0,0,0,.05)",borderBottom:"2px solid rgba(0,0,0,.05)",paddingLeft:10,paddingRight:10}},n.a.createElement("p",{style:{fontWeight:600,margin:0,padding:0,fontSize:"0.75em"}},s?"".concat(this.state.user.unread_notifications," nueva").concat(this.state.user.unread_notifications>1?"s":""):0),n.a.createElement("img",{style:{width:20,height:20,marginLeft:5,opacity:1},src:"/img/bell-".concat(s?"on":"off",".png")})),n.a.createElement("div",{onClick:this.refresh,style:{height:45,display:"flex",flex:0,justifyContent:"center",alignItems:"center",backgroundColor:"#25b864",cursor:"pointer",zIndex:9999,borderBottomRightRadius:10,borderLeft:"0px solid rgba(0,0,0,.05)",borderBottom:"2px solid rgba(0,0,0,.2)",paddingLeft:10,paddingRight:10}},n.a.createElement("img",{style:{width:25,height:25,marginLeft:0,opacity:this.state.isLoading?.1:1},src:"/img/update.png"}))),n.a.createElement("section",{style:{textAlign:"center",marginTop:80,marginBottom:20}},n.a.createElement(be,{level:2,className:"Title"},"Friwords")),n.a.createElement("div",{className:"scroll-container"},n.a.createElement(Ee,{isVisible:this.state.isViewingNotifications,user:this.state.user,onRequestClose:()=>{this.setState({isViewingNotifications:!1},this.getMe)},onClickNotification:e=>{null!=e.redirect_to&&e.redirect_to.indexOf("friword/")>-1&&(this.setState({isLoading:!0,isViewingNotifications:!1}),this.getFriwordById(e.redirect_to.replace("friword/",""),!0))}}),n.a.createElement(ce,{isVisible:this.state.isLoggingIn,onRequestClose:()=>{this.setState({isLoggingIn:!1})},onLoggedIn:e=>{this.setState({user:e,isLoggingIn:!1},this.refresh)}}),n.a.createElement(he,{isVisible:this.state.isCreating,onRequestClose:()=>{this.setState({isCreating:!1})},user:this.state.user,onCreated:e=>{this.setState({isCreating:!1}),i.page=0,i.listing_mode=1,this.setState({filters:i,tabActiveKey:"1"},this.refresh),h.a.open({className:"success",message:n.a.createElement(x.a,{twoToneColor:"#eb2f96"}),description:"Tu friword fue publicado exitosamente en la secci\xf3n `Recientes`"})}}),null!=this.state.currentFriwordId&&[n.a.createElement("div",{style:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.a.createElement(d.a,{onClick:()=>{this.setState({currentFriwordId:null},this.refresh)},type:"primary",icon:n.a.createElement(w.a,null),style:{display:"flex",width:"80%",margin:"0 auto",marginBottom:20,justifyContent:"center",alignItems:"center",height:40}},"Volver atr\xe1s")),n.a.createElement(ke,{loading:this.state.isLoading,friword:this.state.friwords[0],comments:this.state.friwords[0].comments,likes:this.state.friwords[0].likes_qty,dislikes:this.state.friwords[0].dislikes_qty,commentsQty:this.state.friwords[0].comments_qty,user:this.state.user,onLike:()=>{se.likeById(this.state.friwords[0].id,e=>{setTimeout(()=>{this.getFriwordById(this.state.friwords[0].id,!0),this.getMe()},500)})},onRequestComments:()=>{this.getFriwordById(this.state.friwords[0].id,!0)},onPostedComment:this.getMe})],null==this.state.currentFriwordId&&[n.a.createElement("div",{style:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.a.createElement(d.a,{disabled:null==this.state.user,onClick:()=>{this.isAuthenticated()?this.setState({isCreating:!0}):this.setState({isWelcome:!0})},type:"primary",icon:n.a.createElement(k.a,null),style:{display:"flex",width:"80%",margin:"0 auto",justifyContent:"center",alignItems:"center",height:40}},"Publicar friword")),null==this.state.user&&n.a.createElement("a",{onClick:()=>{this.setState({isWelcome:!0})},style:{display:"block",textAlign:"center",marginTop:15,fontWeight:600,marginRight:0,textDecoration:"underline"}},"Registr\xe1 un alias para comentar y publicar nuevos Friwords"),n.a.createElement(p.a,{style:{marginTop:20},activeKey:this.state.tabActiveKey,type:"card",onTabClick:e=>{2==e?(i.only_me=!0,i.page=0):(i.only_me=!1,i.listing_mode=e,i.page=0),this.setState({filters:i,tabActiveKey:e},this.getFriwords)},defaultActiveKey:"1"},n.a.createElement(Ce,{tab:n.a.createElement("span",null,n.a.createElement(E.a,null),"M\xe1s destacados"),key:"0"},t&&t.map((e,t)=>n.a.createElement(ke,{loading:this.state.isLoading,friword:e,comments:e.comments,likes:e.likes_qty,dislikes:e.dislikes_qty,commentsQty:e.comments_qty,user:this.state.user,onLike:()=>{se.likeById(e.id,t=>{setTimeout(()=>{this.getFriwordById(e.id),this.getMe()},500)})},onRequestComments:()=>{this.getFriwordById(e.id)},onPostedComment:this.getMe,refreshFriword:()=>{this.getFriwordById(e.id,!1)}})),n.a.createElement(d.a,{onClick:()=>{i.page+=1,this.setState({filters:i},this.getFriwords)},loading:this.state.isLoading,type:"primary",icon:n.a.createElement(b.a,null),style:{display:"flex",width:"80%",margin:"0 auto",marginBottom:20,justifyContent:"center",alignItems:"center",height:40}},"Cargar m\xe1s")),n.a.createElement(Ce,{tab:n.a.createElement("span",null,n.a.createElement(C.a,null),"Recientes"),key:"1"},t&&t.map((e,t)=>n.a.createElement(ke,{loading:this.state.isLoading,friword:e,comments:e.comments,likes:e.likes_qty,dislikes:e.dislikes_qty,commentsQty:e.comments_qty,user:this.state.user,onLike:()=>{se.likeById(e.id,t=>{setTimeout(()=>{this.getFriwordById(e.id)},500)})},onRequestComments:()=>{this.getFriwordById(e.id)},onPostedComment:this.getMe,refreshFriword:()=>{this.getFriwordById(e.id,!1)}})),n.a.createElement(d.a,{onClick:()=>{i.page+=1,this.setState({filters:i},this.getFriwords)},type:"primary",icon:n.a.createElement(b.a,null),loading:this.state.isLoading,style:{display:"flex",width:"80%",margin:"0 auto",marginBottom:20,justifyContent:"center",alignItems:"center",height:40}},"Cargar m\xe1s")),n.a.createElement(Ce,{tab:n.a.createElement("span",null,n.a.createElement(C.a,null),"M\xedos"),key:"2"},t&&t.map((e,t)=>n.a.createElement(ke,{loading:this.state.isLoading,friword:e,comments:e.comments,likes:e.likes_qty,dislikes:e.dislikes_qty,commentsQty:e.comments_qty,user:this.state.user,onLike:()=>{se.likeById(e.id,t=>{setTimeout(()=>{this.getFriwordById(e.id)},500)})},onRequestComments:()=>{this.getFriwordById(e.id)},onPostedComment:this.getMe,refreshFriword:()=>{this.getFriwordById(e.id,!1)}})),n.a.createElement(d.a,{onClick:()=>{i.page+=1,this.setState({filters:i},this.getFriwords)},type:"primary",loading:this.state.isLoading,icon:n.a.createElement(b.a,null),style:{display:"flex",width:"80%",margin:"0 auto",marginBottom:20,justifyContent:"center",alignItems:"center",height:40}},"Cargar m\xe1s")))],this.state.isLoading&&n.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.a.createElement(m.a,{indicator:n.a.createElement(S.a,{style:{fontSize:24},spin:!0})}))))}renderWelcome(){return n.a.createElement("div",{className:"friwords-container"},n.a.createElement(oe,{isVisible:this.state.isWelcome,onStart:()=>{this.setState({isWelcome:!1},this.getMe),h.a.open({className:"success",message:n.a.createElement(x.a,{twoToneColor:"#eb2f96"}),description:"Bienvenid@ a Friwords. Empieza leyendo y publicando"}),setTimeout(()=>{this.getFriwords()},3e3)},onRequestLogin:()=>{this.setState({isLoggingIn:!0,isWelcome:!1})}}))}}i(450);c.a.Option,l.a.Title;var ve=()=>n.a.createElement(Se,null);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},62:function(e,t,i){}},[[220,1,2]]]);
//# sourceMappingURL=main.4e787cd2.chunk.js.map